@model IEnumerable<StreamPet.Models.PetService>

@{
    ViewData["Title"] = "Index";
}

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" type="text/css" />
<script>
    $(document).ready(function () {

        


       var table = $('#tblPet').DataTable({
            //dom:'<"bg-info" r><".bg-primary" l > <"bg-secondary" f> <"bg-success" t> <"bg-danger" i> <"bg-warning" p> ',
            dom:'<"border-dark border" <"row  m-1"  <"col w-100 " f> <"#Filtros.col  w-100"> > <"row" < t r >  > <"row" <"col" l> <"col" p>  > <"row" i> >',

            columnDefs: [
      {
        targets: 4,
        render: function (data, type, row) {
          return '<span class="fa fa-star checked"></span>'.repeat(data.val);
        }
      }
    ]
        }
     
     );

    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
    var min = parseInt($('#min').val(), 10);
    var max = parseInt($('#max').val(), 10);
    var age = parseFloat(data[4]) || 0; // use data for the age column
 
    if (
        (isNaN(min) && isNaN(max)) ||
        (isNaN(min) && age <= max) ||
        (min <= age && isNaN(max)) ||
        (min <= age && age <= max)
    ) {
        return true;
    }
    return false;


});

$('#min, #max').keyup(function () {
        table.draw();
    });

    var Search= 

     



});

</script>



<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<details style="" id="Filter">
         <summary>Filtros</summary>
        <table border="0" cellspacing="5" cellpadding="5">
        <tbody><tr>
            <td>Avaliação Minima:</td>
            <td><input type="text" id="min" name="min"></td>
        </tr>
        <tr>
            <td>Avaliação Maxima:</td>
            <td><input type="text" id="max" name="max"></td>
        </tr>
    </tbody></table>
    </details>  

<div class="container row">
    
<table class="col table " id="tblPet">
    
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Descricao)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Endereco)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Categoria)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Avaliacao)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Endereco)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Categoria)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Avaliacao)
            </td>
            <td>
                <!--<a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |-->
                <a asp-action="Details" asp-route-id="@item.Id">Details</a> 
               -<a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>

<div class="col" style="float:right">embed do google maps
    <iframe
     width=100%
     height=400px
     style="border:0"
    loading="lazy"
    allowfullscreen
    referrerpolicy="no-referrer-when-downgrade"
     src="https://www.google.com/maps/embed/v1/place?key=AIzaSyAxKsRxz-IxUyV6mgBQGjLpxUiU9EnIoGo&q=Roseira,Brazil+SP">
</iframe>

</div>
</div>
